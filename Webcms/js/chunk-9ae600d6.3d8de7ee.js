(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9ae600d6"],{"170e":function(e,t,a){"use strict";a("c4ea")},3782:function(e,t,a){"use strict";a("40e5")},3937:function(e,t,a){},"3d1d":function(e,t,a){"use strict";a("ee3c")},"40e5":function(e,t,a){},"526b":function(e,t,a){"use strict";a("3937")},"69e4":function(e,t,a){"use strict";a.r(t);var s,n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{offset:1,xs:22,sm:22,md:22,lg:22,xl:22}},[a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":e.handleClick}},[a("el-tab-pane",{attrs:{label:"Configuración"}},[a("settings")],1),a("el-tab-pane",{attrs:{label:"SEO"}},[a("seo")],1),a("el-tab-pane",{attrs:{label:"CSS"}},[a("css")],1),a("el-tab-pane",{attrs:{label:"JavaScript"}},[a("javascript")],1),a("el-tab-pane",{attrs:{label:"Assets"}},[a("assets")],1),e.isPage?a("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.siteStore.loading,expression:"siteStore.loading"}],attrs:{gutter:10,type:"flex",justify:"center"}},[a("el-col",{attrs:{xs:23,sm:23,md:23,lg:23,xl:23}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("Custom")])]),a("div",[a("codemirror",{ref:"editorJavascript",attrs:{options:e.cmOptions},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1),a("div",{staticClass:"margin-10"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.saveCustom.apply(null,arguments)}}},[e._v(" Actualizar")])],1)])],1)],1):e._e()],1)],1)],1)],1)},r=[],i=a("c7eb"),o=a("1da1"),l=a("30b3"),c=a("8f94"),u=a("2ef0"),d=a.n(u),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{attrs:{gutter:10,type:"flex",justify:"center"}},[a("el-col",{attrs:{offset:1,xs:22,sm:22,md:16,lg:16,xl:16}},[a("el-row",{staticClass:"text-color-gray",attrs:{type:"flex"}},[a("el-col",{attrs:{span:12}},[a("label",{staticStyle:{"padding-left":"10px"}},[e._v("Editar:")]),a("el-switch",{model:{value:e.isUpdateForm,callback:function(t){e.isUpdateForm=t},expression:"isUpdateForm"}})],1)],1),e.isUpdateForm?e._e():a("div",{staticStyle:{margin:"20px"}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"text item"},[a("label",{staticClass:"text-color-gray"},[e._v("Nombre: "+e._s(e.siteStore.settings.name))]),a("br"),a("label",{staticClass:"text-color-gray"},[e._v("URL base: "+e._s(e.siteStore.settings.urlBase))]),a("br"),a("label",{staticClass:"text-color-gray"},[e._v("Lang: "+e._s(e.siteStore.settings.lang))]),a("br"),a("label",{staticClass:"text-color-gray"},[e._v("Robots.txt: "+e._s(e.siteStore.settings.robots?"Activado":"Desactivado"))]),a("br"),a("label",{staticClass:"text-color-gray"},[e._v("Favicon: ")]),a("br"),e.siteStore.settings.favicon?a("img",{attrs:{src:e.configStore.baseUrl+e.siteStore.settings.favicon,alt:"favicon"}}):e._e()])])],1),e.isUpdateForm?a("div",{staticStyle:{margin:"20px"}},[a("el-card",{staticClass:"box-card"},[a("ValidationObserver",{ref:"form",scopedSlots:e._u([{key:"default",fn:function(t){var s=t.invalid;return[a("el-form",{attrs:{"label-position":"right","label-width":"100px",model:e.siteStore.settings}},[a("el-form-item",{attrs:{label:"Nombre"}},[a("ValidationProvider",{attrs:{name:"nombre",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;return[a("el-input",{attrs:{size:"mini"},model:{value:e.siteStore.settings.name,callback:function(t){e.$set(e.siteStore.settings,"name",t)},expression:"siteStore.settings.name"}}),a("span",[e._v(e._s(s[0]))])]}}],null,!0)})],1),a("el-form-item",{attrs:{label:"URL base"}},[a("el-input",{attrs:{size:"mini"},model:{value:e.siteStore.settings.urlBase,callback:function(t){e.$set(e.siteStore.settings,"urlBase",t)},expression:"siteStore.settings.urlBase"}},[a("template",{slot:"prepend"},[e._v("Https://")])],2)],1),a("el-form-item",{attrs:{label:"Idioma"}},[a("ValidationProvider",{attrs:{name:"idioma",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;return[a("el-select",{attrs:{size:"mini",filterable:"","allow-create":"",placeholder:"es-MX"},model:{value:e.siteStore.settings.lang,callback:function(t){e.$set(e.siteStore.settings,"lang",t)},expression:"siteStore.settings.lang"}},e._l(e.siteStore.optionsLang,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("span",[e._v(e._s(s[0]))])]}}],null,!0)})],1),a("el-form-item",{attrs:{label:"Robots.txt"}},[a("el-switch",{attrs:{"active-text":"Activar","inactive-text":"Desactivar"},model:{value:e.siteStore.settings.robots,callback:function(t){e.$set(e.siteStore.settings,"robots",t)},expression:"siteStore.settings.robots"}})],1),a("el-form-item",{attrs:{label:"Favicon"}},[a("el-upload",{staticClass:"favicon-uploader",attrs:{drag:"",name:"favicon",action:"#","show-file-list":!1,"http-request":e.uploadImage}},[e.siteStore.settings.favicon?a("img",{attrs:{src:e.configStore.baseUrl+e.siteStore.settings.favicon,alt:""}}):[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[e._v(" Suelta tu foto aquí o "),a("em",[e._v("haz clic para cargar")])])],a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" Solo archivos ico/png con una medida de 400x400 pixeles ")])],2)],1),a("el-form-item",[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.handleCancel.apply(null,arguments)}}},[e._v(" Cancelar")]),a("el-button",{attrs:{type:"primary",size:"mini",disabled:s},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.checkSave.apply(null,arguments)}}},[e._v(" Actualizar")])],1)],1)]}}],null,!1,177056107)})],1)],1):e._e()],1)],1)},f=[],m=(a("d3b7"),a("4ab8")),v=a("35a4"),h=Object(l["a"])(),g=Object(v["a"])(),b={name:"Settings",data:function(){return{isUpdateForm:!1,valueLang:"",siteStore:h,configStore:g}},created:function(){return Object(o["a"])(Object(i["a"])().mark((function e(){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:h.fetchSettings();case 1:case"end":return e.stop()}}),e)})))()},methods:{update:function(){return Object(o["a"])(Object(i["a"])().mark((function e(){var t;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=d.a.cloneDeep(h.settings),h.updateSettings(t);case 2:case"end":return e.stop()}}),e)})))()},uploadImage:function(e){return Object(o["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=new FormData,a.append("image",e.file),a.append("width","100"),a.append("height","100"),a.append("title","Image"),a.append("alt","favicaon"),a.append("folder","favicon"),Object(m["d"])(a).then((function(t){h.settings.favicon=t.data.path,e.onSuccess(t.data.path)})).catch((function(t){e.onError()}));case 8:case"end":return t.stop()}}),t)})))()},checkSave:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=d.a.cloneDeep(h.settings),t.next=3,h.updateSettings(a).finally((function(){return h.fetchSettings()}));case 3:e.isUpdateForm=!1;case 4:case"end":return t.stop()}}),t)})))()},handleCancel:function(){this.isUpdateForm=!1}}},_=b,C=(a("170e"),a("2877")),x=Object(C["a"])(_,p,f,!1,null,"0b53dd8e",null),S=x.exports,w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{attrs:{gutter:10,type:"flex",justify:"center"}},[a("el-col",{attrs:{offset:1,xs:22,sm:22,md:16,lg:16,xl:16}},[a("el-row",{staticClass:"text-color-gray",attrs:{type:"flex"}},[a("el-col",{attrs:{span:12}},[a("label",{staticStyle:{"padding-left":"10px"}},[e._v("Editar:")]),e._v("   "),a("el-switch",{attrs:{disabled:!e.siteStore.seo},model:{value:e.isUpdateForm,callback:function(t){e.isUpdateForm=t},expression:"isUpdateForm"}})],1),a("el-col",{attrs:{span:12,offset:15}},[[a("el-select",{staticStyle:{float:"right"},attrs:{placeholder:"Idioma"},on:{change:e.onChangeLang},model:{value:e.configStore.langSelected,callback:function(t){e.$set(e.configStore,"langSelected",t)},expression:"configStore.langSelected"}},e._l(e.configStore.langs,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)]],2)],1),a("div",{staticStyle:{margin:"20px"}}),e.isUpdateForm?e._e():a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"text item"},[a("label",{staticClass:"text-color-gray"},[e._v("Título: "),e.siteStore.seo.title?a("span",[e._v(e._s(e.siteStore.seo.title))]):e._e()]),a("br"),a("label",{staticClass:"text-color-gray"},[e._v("Descripción: "),e.siteStore.seo.description?a("span",[e._v(e._s(e.siteStore.seo.description))]):e._e()]),a("br"),a("label",{staticClass:"text-color-gray"},[e._v("MetaTags: "),e.siteStore.seo.description?a("span",[e._v(e._s(e.siteStore.seo.metaTag))]):e._e()]),a("br"),a("label",{staticClass:"text-color-gray"},[e._v("Schema: "),e.siteStore.seo.schema?a("span",[e._v(e._s(e.siteStore.seo.schema))]):e._e()]),a("br"),a("label",{staticClass:"text-color-gray"},[e._v("Imagen:")]),a("br"),e.siteStore.seo.image?a("img",{staticClass:"image-seo",attrs:{src:e.configStore.baseUrl+e.siteStore.seo.image}}):a("div",[a("span",[e._v("Sin imagen")])])])]),e.isUpdateForm?a("div",{staticStyle:{"margin-top":"20px"}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("strong",[a("span",[e._v("Agregar SEO")])])]),a("div",{staticClass:"text item"},[a("ValidationObserver",{ref:"form",scopedSlots:e._u([{key:"default",fn:function(t){var s=t.invalid;return[a("el-form",{attrs:{"label-position":"top","label-width":"120px",model:e.siteStore.seo}},[a("el-form-item",{attrs:{label:"Título"}},[a("ValidationProvider",{attrs:{name:"título",rules:"required|min:4|max:60"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;return[a("el-input",{attrs:{size:"mini","show-word-limit":"",minlength:"4",maxlength:"60"},model:{value:e.siteStore.seo.title,callback:function(t){e.$set(e.siteStore.seo,"title",t)},expression:"siteStore.seo.title"}}),a("span",[e._v(e._s(s[0]))])]}}],null,!0)})],1),a("el-form-item",{attrs:{label:"Descripción"}},[a("ValidationProvider",{attrs:{name:"descripción",rules:"required|min:10|max:160"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;return[a("el-input",{attrs:{size:"mini",type:"textarea",rows:2,minlength:"10",maxlength:"160","show-word-limit":""},model:{value:e.siteStore.seo.description,callback:function(t){e.$set(e.siteStore.seo,"description",t)},expression:"siteStore.seo.description"}}),a("span",[e._v(e._s(s[0]))])]}}],null,!0)})],1),a("el-form-item",{attrs:{label:"Imagen"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{drag:"",name:"image",action:"#","show-file-list":!1,"http-request":e.uploadImage}},[e.siteStore.seo.image?a("img",{attrs:{src:e.configStore.baseUrl+e.siteStore.seo.image,alt:""}}):[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[e._v(" Suelta tu foto aquí o "),a("em",[e._v("haz clic para cargar")])])],a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" Solo archivos jpg con una medida de 800X800 pixeles ")])],2)],1),a("el-form-item",{attrs:{label:"Tags"}},[a("ValidationProvider",{attrs:{name:"Tags",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;return[a("el-select",{attrs:{size:"mini",multiple:"",filterable:"","allow-create":"",placeholder:"Tags"},model:{value:e.siteStore.seo.metaTag,callback:function(t){e.$set(e.siteStore.seo,"metaTag",t)},expression:"siteStore.seo.metaTag"}},e._l(e.siteStore.optionsTags,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("span",[e._v(e._s(s[0]))])]}}],null,!0)})],1),a("el-form-item",{attrs:{label:"Schema"}},[a("ValidationProvider",{attrs:{name:"schema",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;return[a("el-input",{attrs:{size:"mini","show-word-limit":""},model:{value:e.siteStore.seo.schema,callback:function(t){e.$set(e.siteStore.seo,"schema",t)},expression:"siteStore.seo.schema"}}),a("span",[e._v(e._s(s[0]))])]}}],null,!0)})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-upload2",disabled:s},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.checkSave.apply(null,arguments)}}},[e._v(" "+e._s(e.siteStore.isSeoUpdate?"Actualizar":"Guardar"))])],1)],1)]}}],null,!1,2396611397)})],1)])],1):e._e()],1)],1)},y=[],k=Object(l["a"])(),O=Object(v["a"])(),j={name:"Seo",data:function(){return{isUpdateForm:!1,siteStore:k,configStore:O}},created:function(){k.fetchSeo()},methods:{uploadImage:function(e){return Object(o["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:k.loading=!0,a=new FormData,a.append("image",e.file),a.append("width","250"),a.append("height","250"),a.append("title","Image"),a.append("alt","ciberseguridadSeo"),Object(m["d"])(a).then((function(t){k.seo.image=t.data.path,e.onSuccess(t.data.path)})).catch((function(t){e.onError()})).finally((function(){return k.loading=!1}));case 8:case"end":return t.stop()}}),t)})))()},onChangeLang:function(e){this.configStore.setLangSelected(e),k.fetchSeo()},checkSave:function(){var e=this;if(k.isSeoUpdate){var t=d.a.cloneDeep(k.seo),a=d.a.cloneDeep(O.langSelected);k.updateSeo(t,a).then((function(){e.isUpdateForm=!1}))}else k.seo.lang=O.langSelected,k.storeSeo().then((function(){e.isUpdateForm=!1}))}}},F=j,U=(a("526b"),Object(C["a"])(F,w,y,!1,null,"3ca2d3fa",null)),D=U.exports,z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.siteStore.loading,expression:"siteStore.loading"}],attrs:{gutter:10,"element-loading-text":"Cargando...",type:"flex",justify:"center"}},[a("el-col",{attrs:{xs:23,sm:23,md:12,lg:12,xl:12}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("Agrega archivos a tu sitio")])]),a("div",{staticClass:"text item"},[a("label",[e._v("Arrastra tu archivo css para agregarlo al sitio")]),a("br"),a("el-upload",{staticClass:"upload-demo",attrs:{name:"fileCSS",action:"#","show-file-list":!1,"http-request":e.uploadFile,drag:""}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[e._v(" Suelta tu archivo aquí o "),a("em",[e._v("haz clic para cargar")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" Solo archivos CSS con un tamaño menor de 10 MB ")])])],1),a("el-divider"),a("div",[a("label",[e._v("Agrega url CDN par agregarla al sitio")]),a("br"),a("br"),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:19}},[a("el-input",{attrs:{placeholder:"Url CDN"},model:{value:e.cdnUrl,callback:function(t){e.cdnUrl=t},expression:"cdnUrl"}})],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"success"},on:{click:e.uploadCDN}},[e._v(" Agregar CDN ")])],1)],1)],1)],1)],1),a("el-col",{attrs:{xs:23,sm:23,md:11,lg:11,xl:11}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("Archivos cargados en el sitio")])]),a("div",{staticClass:"text item"},[a("div",{staticClass:"custom-tree-container"},[a("div",{staticClass:"block"},[a("el-tree",{attrs:{data:e.siteStore.css,"node-key":"id",props:e.defaultProps,"default-expand-all":"",draggable:"","allow-drop":e.allowDrop},on:{"node-drop":e.handleDrop},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.node,n=t.data;return a("span",{staticClass:"custom-tree-node"},[a("span",[e._v(e._s(s.label))]),a("span",[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return e.deleteFile(s,n)}}},[e._v(" Eliminar ")])],1)])}}])}),a("br"),a("div",{attrs:{align:"right"}},[a("el-button",{attrs:{type:"primary",size:"medium",aling:"right"},on:{click:function(t){return e.updateTree()}}},[e._v(" Actualizar ")])],1)],1)])])])],1)],1)],1)},A=[],E=(a("b0c0"),a("bca1")),$=Object(l["a"])(),M={name:"Css",components:{},data:function(){return{cdnUrl:"",siteStore:$,defaultProps:{label:"name"},content:"",cmOptions:{tabSize:4,mode:"text/css",theme:"dracula",lineNumbers:!0,line:!0}}},created:function(){return Object(o["a"])(Object(i["a"])().mark((function e(){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return $.fetchCss(),e.next=3,$.fetchCustomCss();case 3:case"end":return e.stop()}}),e)})))()},mounted:function(){},computed:{codemirror:function(){return this.$refs.editorCss.codemirror}},methods:{uploadCDN:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:$.file.name=e.cdnUrl,$.file.pathFile=e.cdnUrl,$.file.type="External",$.file.order=$.css.length+1,$.storeCssFile().finally((function(){return e.cdnUrl=""}));case 5:case"end":return t.stop()}}),t)})))()},uploadFile:function(e){return Object(o["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:$.loading=!0,a=new FormData,a.append("file",e.file),a.append("fileName",e.file.name),a.append("folder","site"),Object(E["a"])(a).then((function(t){$.file.name=e.file.name,$.file.pathFile=t.data,$.file.type="Internal",$.file.order=$.css.length+1,$.storeCssFile().then($.fetchCss())})).catch((function(t){e.onError()})).finally((function(){return $.loading=!1}));case 6:case"end":return t.stop()}}),t)})))()},handleDrop:function(){$.orderFilesCss()},allowDrop:function(e,t,a){if("inner"!==a)return!0},updateTree:function(){var e=d.a.cloneDeep($.css);$.updateCssFiles(e).then($.fetchCss())},deleteFile:function(e,t){$.deleteCssFile(e,t)},saveCustomCss:function(){var e=d.a.cloneDeep(this.customContentCss);$.updateCustomCss(e)}}},P=M,N=(a("3d1d"),Object(C["a"])(P,z,A,!1,null,null,null)),T=N.exports,J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.siteStore.loading,expression:"siteStore.loading"}],attrs:{gutter:10,"element-loading-text":"Cargando...",type:"flex",justify:"center"}},[a("el-col",{attrs:{xs:23,sm:23,md:12,lg:12,xl:12}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("Archivos")])]),a("div",{staticClass:"text item"},[a("label",[e._v("Arrastra tu archivo js para agregarlo al sitio")]),a("br"),a("el-upload",{staticClass:"upload-demo",attrs:{name:"fileJS",action:"#","show-file-list":!1,drag:"","http-request":e.uploadFile}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[e._v(" Suelta tu archivo aquí o "),a("em",[e._v("haz clic para cargar")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" Solo archivos CSS con un tamaño menor de 10 MB ")])])],1),a("el-divider"),a("div",[a("label",[e._v("Agrega url CDN par agregarla al sitio")]),a("br"),a("br"),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:19}},[a("el-input",{attrs:{placeholder:"Url CDN"},model:{value:e.cdnUrl,callback:function(t){e.cdnUrl=t},expression:"cdnUrl"}})],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"success"},on:{click:e.uploadCDN}},[e._v(" Agregar CDN ")])],1)],1)],1)],1)],1),a("el-col",{attrs:{xs:23,sm:23,md:11,lg:11,xl:11}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("Archivos cargados en el sitio")])]),a("div",{staticClass:"text item"},[a("div",{staticClass:"custom-tree-container"},[a("div",{staticClass:"block"},[a("el-tree",{attrs:{data:e.siteStore.javascript,"node-key":"id",props:e.defaultProps,"default-expand-all":"",draggable:"","allow-drop":e.allowDrop},on:{"node-drop":e.handleDrop},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.node,n=t.data;return a("span",{staticClass:"custom-tree-node"},[a("span",[e._v(e._s(s.label))]),a("span",[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return e.deleteFile(s,n)}}},[e._v(" Eliminar ")])],1)])}}])}),a("br"),a("div",{attrs:{align:"right"}},[a("el-button",{attrs:{type:"primary",size:"medium",aling:"right"},on:{click:function(t){return e.updateTree()}}},[e._v(" Actualizar ")])],1)],1)])])])],1)],1)],1)},I=[],V=a("ac90"),q=Object(l["a"])(),L={name:"Javascript",components:{},data:function(){return{loading:!1,cdnUrl:"",siteStore:q,defaultProps:{label:"name"},cmOptions:{tabSize:4,theme:"dracula",lineNumbers:!0,line:!0}}},created:function(){return Object(o["a"])(Object(i["a"])().mark((function e(){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return q.fetchJavascript(),e.next=3,q.fetchCustomJavascript();case 3:case"end":return e.stop()}}),e)})))()},computed:{codemirror:function(){return this.$refs.editorJavascript.codemirror}},mounted:function(){},methods:{uploadCDN:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:q.file.name=e.cdnUrl,q.file.pathFile=e.cdnUrl,q.file.type="External",q.file.order=q.javascript.length+1,q.storeJavascriptFile().finally((function(){return e.cdnUrl=""}));case 5:case"end":return t.stop()}}),t)})))()},uploadFile:function(e){var t=this;return Object(o["a"])(Object(i["a"])().mark((function a(){var s;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:q.loading=!0,s=new FormData,s.append("file",e.file),s.append("fileName",e.file.name),s.append("folder","site"),Object(V["a"])(s).then((function(a){q.file.name=e.file.name,q.file.pathFile=a.data,q.file.type="Internal",q.file.order=q.javascript.length+1,q.storeJavascriptFile().finally((function(){return t.clearFile(q)}))})).catch((function(t){e.onError()})).finally((function(){return q.loading=!1}));case 6:case"end":return a.stop()}}),a)})))()},handleDrop:function(){q.orderFilesJavascript()},allowDrop:function(e,t,a){if("inner"!==a)return!0},updateTree:function(){var e=d.a.cloneDeep(q.javascript);q.updateJavascriptFiles(e).then(q.fetchJavascript())},deleteFile:function(e,t){q.deleteJavascriptFile(e,t)},saveCustomJavascript:function(){var e=d.a.cloneDeep(q.customContentJavascript);q.updateCustomJavascript(e)}}},R=L,B=Object(C["a"])(R,J,I,!1,null,null,null),G=B.exports,X=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.siteStore.loading,expression:"siteStore.loading"}],staticClass:"container-fluid",attrs:{"element-loading-text":"Cargando..."}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6 d-flex align-items-center"},[a("div",{staticClass:"position-relative border border-1 rounded shadow w-100"},[a("p",{staticClass:"text-center border-bottom pb-2"},[e._v("Agrega archivos a tu sitio")]),a("p",{staticClass:"px-3 fw-bold"},[e._v(" Arrastra tu archivo zip para agregarlo al sitio ")]),a("el-upload",{staticClass:"upload-demo px-3",attrs:{name:"fileAssets",action:"#","show-file-list":!1,"http-request":e.uploadFile,drag:"","before-upload":e.beforeUpload}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[e._v(" Suelta tu archivo aquí o "),a("em",[e._v("haz clic para cargar")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" Solo archivos zip ")])]),e.onUpload?a("div",[a("div",{staticClass:"position-absolute top-0 bg-dark opacity-75 w-100 h-100"}),a("el-progress",{staticClass:"position-absolute top-50 start-50 translate-middle",attrs:{type:"circle",percentage:e.progress}})],1):e._e()],1)]),a("div",{staticClass:"col-6"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadAssets,expression:"loadAssets"}],staticClass:"border border-1 rounded shadow"},[a("p",{staticClass:"text-center border-bottom pb-2"},[e._v(" Archivos cargados en el sitio ")]),a("h4",{staticClass:"text-center"},[e._v("Path: "),a("el-tag",{attrs:{effect:"plain"}},[e._v(" "+e._s(e.siteStore.assets[0].path)+" ")])],1),a("el-tabs",{staticClass:"overflow-auto",staticStyle:{height:"15rem"},attrs:{"tab-position":"left"}},e._l(e.siteStore.assets,(function(t){return a("el-tab-pane",{key:t.name,attrs:{label:t.name}},[a("el-card",{staticClass:"box-card"},["/"!=t.name?a("div",[a("el-button",{staticClass:"d-block mx-auto mb-3",attrs:{type:"danger",round:"",size:"mini"},on:{click:function(a){return e.removeFolder(t.path)}}},[e._v("Eliminar folder")])],1):e._e(),e._l(t.folders,(function(s){return a("div",{key:s,staticClass:"folder-item"},[e._v(" "+e._s(s)+" "),a("el-tooltip",{staticClass:"item float-end",attrs:{effect:"dark",content:"Abrir",placement:"top"}},[a("el-link",{staticClass:"link-button",attrs:{icon:"el-icon-folder-opened",type:"info"},on:{click:function(){return e.openFolder(t.path,s)}}})],1)],1)})),e._l(t.files,(function(s){return a("div",{key:s,staticClass:"text item"},[e._v(" "+e._s(s)+" "),a("el-tooltip",{staticClass:"item float-end",attrs:{effect:"dark",content:"Eliminar",placement:"top"}},[a("el-link",{staticClass:"link-button",attrs:{icon:"el-icon-delete",type:"danger"},on:{click:function(){return e.removeFile(t.path,s)}}})],1)],1)}))],2)],1)})),1)],1)])])])},H=[],Z=(a("fb6a"),a("5c96")),W=a("7d28"),K=Object(l["a"])(),Q={name:"Settings",data:function(){return{siteStore:K,tabPosition:"left",defaultProps:{label:"name"},loadAssets:!1,file:null,chunks:[],uploaded:0,sizeChunk:1e6,progress:0,onUpload:!1}},created:function(){return Object(o["a"])(Object(i["a"])().mark((function e(){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:K.fetchAssets();case 1:case"end":return e.stop()}}),e)})))()},watch:{chunks:function(e,t){e.length>0&&this.uploadParts(e.length)}},methods:{uploadFile:function(e){var t=this;return Object(o["a"])(Object(i["a"])().mark((function a(){return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.file=e.file,t.createChunks(),t.onUpload=!0;case 3:case"end":return a.stop()}}),a)})))()},uploadParts:function(e){var t=this;return Object(o["a"])(Object(i["a"])().mark((function e(){var a;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new FormData,a.set("is_last",1===t.chunks.length),a.set("file",t.chunks[0],"".concat(t.file.name)),e.next=5,Object(W["d"])(a).then((function(e){console.log(e),e.success?(t.uploaded+=t.chunks[0].size,t.progress=Math.floor(100*t.uploaded/t.file.size),1===t.chunks.length&&(Object(Z["Message"])({showClose:!0,message:e.messages[0]||"Exito",type:"success"}),t.progress=0,t.uploaded=0,t.onUpload=!1,K.fetchAssets()),t.chunks.shift()):(t.$message.error(e.messages[0]||"Error"),t.chunks=[],t.progress=0,t.uploaded=0,t.onUpload=!1)})).catch((function(e){t.$message.error("Oops, algo a salido mal. Intenta de nuevo.")}));case 5:case"end":return e.stop()}}),e)})))()},createChunks:function(){for(var e=Math.ceil(this.file.size/this.sizeChunk),t=0;t<e;t++)this.chunks.push(this.file.slice(t*this.sizeChunk,Math.min(t*this.sizeChunk+this.sizeChunk,this.file.size),this.file.type))},removeFile:function(e,t){return Object(o["a"])(Object(i["a"])().mark((function a(){var s;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:K.loading=!0,s=new FormData,s.append("path",e+"/"+t),Object(W["b"])(s).then((function(e){if(!e.success)return Object(Z["Message"])({showClose:!0,message:e.messages[0]||"Error",type:"danger"}),!1;Object(Z["Message"])({showClose:!0,message:e.messages[0]||"Exito",type:"success"}),K.fetchAssets()})).catch((function(e){})).finally((function(){return K.loading=!1}));case 4:case"end":return a.stop()}}),a)})))()},removeFolder:function(e){return Object(o["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:K.loading=!0,a=new FormData,a.append("path",e),Object(W["c"])(a).then((function(e){if(!e.success)return Object(Z["Message"])({showClose:!0,message:e.messages[0]||"Error",type:"danger"}),!1;Object(Z["Message"])({showClose:!0,message:e.messages[0]||"Exito",type:"success"}),K.fetchAssets()})).catch((function(e){})).finally((function(){return K.loading=!1}));case 4:case"end":return t.stop()}}),t)})))()},beforeUpload:function(e){var t="application/zip"===e.type,a="application/x-zip-compressed"===e.type,s=!0;return t||a||(this.$message.error("¡El archivo debe ser un ZIP!"),s=!1),s},openFolder:function(e,t){console.log(e),this.loadAssets=!0;var a=new FormData;a.append("path",e),a.append("folder",t),K.fetchAssets(a).finally(this.loadAssets=!1)}}},Y=Q,ee=(a("3782"),Object(C["a"])(Y,X,H,!1,null,null,null)),te=ee.exports,ae=Object(l["a"])(),se={components:{settings:S,seo:D,css:T,javascript:G,assets:te,codemirror:c["codemirror"]},data:function(){return{loading:!1,siteStore:ae,isPage:!1,content:"",cmOptions:{tabSize:4,mode:"",theme:"dracula",lineNumbers:!0,line:!0}}},created:function(){},mounted:function(){},methods:{handleClick:function(e,t){"pane-2"===e.$el.id?(this.isPage=!0,this.cmOptions.mode="text/css",this.content=ae.customContentCss,s=e.$el.id):"pane-3"===e.$el.id?(this.isPage=!0,this.cmOptions.mode="text/javascript",this.content=ae.customContentJavascript,s=e.$el.id):this.isPage=!1},saveCustom:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){var a,n;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("pane-2"!==s){t.next=6;break}return a=d.a.cloneDeep(e.content),t.next=4,ae.updateCustomCss(a);case 4:t.next=10;break;case 6:if("pane-3"!==s){t.next=10;break}return n=d.a.cloneDeep(e.content),t.next=10,ae.updateCustomJavascript(n);case 10:case"end":return t.stop()}}),t)})))()}}},ne=se,re=Object(C["a"])(ne,n,r,!1,null,null,null);t["default"]=re.exports},"8f94":function(e,t,a){!function(t,s){e.exports=s(a("56b3"))}(0,(function(e){return function(e){function t(s){if(a[s])return a[s].exports;var n=a[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var a={};return t.m=e,t.c=a,t.i=function(e){return e},t.d=function(e,a,s){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:s})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=3)}([function(t,a){t.exports=e},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(0),n=function(e){return e&&e.__esModule?e:{default:e}}(s),r=window.CodeMirror||n.default;"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(e),s=1;s<arguments.length;s++){var n=arguments[s];if(null!=n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},writable:!0,configurable:!0}),t.default={name:"codemirror",data:function(){return{content:"",codemirror:null,cminstance:null}},props:{code:String,value:String,marker:Function,unseenLines:Array,name:{type:String,default:"codemirror"},placeholder:{type:String,default:""},merge:{type:Boolean,default:!1},options:{type:Object,default:function(){return{}}},events:{type:Array,default:function(){return[]}},globalOptions:{type:Object,default:function(){return{}}},globalEvents:{type:Array,default:function(){return[]}}},watch:{options:{deep:!0,handler:function(e){for(var t in e)this.cminstance.setOption(t,e[t])}},merge:function(){this.$nextTick(this.switchMerge)},code:function(e){this.handerCodeChange(e)},value:function(e){this.handerCodeChange(e)}},methods:{initialize:function(){var e=this,t=Object.assign({},this.globalOptions,this.options);this.merge?(this.codemirror=r.MergeView(this.$refs.mergeview,t),this.cminstance=this.codemirror.edit):(this.codemirror=r.fromTextArea(this.$refs.textarea,t),this.cminstance=this.codemirror,this.cminstance.setValue(this.code||this.value||this.content)),this.cminstance.on("change",(function(t){e.content=t.getValue(),e.$emit&&e.$emit("input",e.content)}));var a={};["scroll","changes","beforeChange","cursorActivity","keyHandled","inputRead","electricInput","beforeSelectionChange","viewportChange","swapDoc","gutterClick","gutterContextMenu","focus","blur","refresh","optionChange","scrollCursorIntoView","update"].concat(this.events).concat(this.globalEvents).filter((function(e){return!a[e]&&(a[e]=!0)})).forEach((function(t){e.cminstance.on(t,(function(){for(var a=arguments.length,s=Array(a),n=0;n<a;n++)s[n]=arguments[n];e.$emit.apply(e,[t].concat(s));var r=t.replace(/([A-Z])/g,"-$1").toLowerCase();r!==t&&e.$emit.apply(e,[r].concat(s))}))})),this.$emit("ready",this.codemirror),this.unseenLineMarkers(),this.refresh()},refresh:function(){var e=this;this.$nextTick((function(){e.cminstance.refresh()}))},destroy:function(){var e=this.cminstance.doc.cm.getWrapperElement();e&&e.remove&&e.remove()},handerCodeChange:function(e){if(e!==this.cminstance.getValue()){var t=this.cminstance.getScrollInfo();this.cminstance.setValue(e),this.content=e,this.cminstance.scrollTo(t.left,t.top)}this.unseenLineMarkers()},unseenLineMarkers:function(){var e=this;void 0!==this.unseenLines&&void 0!==this.marker&&this.unseenLines.forEach((function(t){var a=e.cminstance.lineInfo(t);e.cminstance.setGutterMarker(t,"breakpoints",a.gutterMarkers?null:e.marker())}))},switchMerge:function(){var e=this.cminstance.doc.history,t=this.cminstance.doc.cleanGeneration;this.options.value=this.cminstance.getValue(),this.destroy(),this.initialize(),this.cminstance.doc.history=e,this.cminstance.doc.cleanGeneration=t}},mounted:function(){this.initialize()},beforeDestroy:function(){this.destroy()}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(1),n=a.n(s);for(var r in s)["default","default"].indexOf(r)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(r);var i=a(5),o=a(4),l=o(n.a,i.a,!1,null,null,null);t.default=l.exports},function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.install=t.codemirror=t.CodeMirror=void 0;var n=a(0),r=s(n),i=a(2),o=s(i),l=window.CodeMirror||r.default,c=function(e,t){t&&(t.options&&(o.default.props.globalOptions.default=function(){return t.options}),t.events&&(o.default.props.globalEvents.default=function(){return t.events})),e.component(o.default.name,o.default)},u={CodeMirror:l,codemirror:o.default,install:c};t.default=u,t.CodeMirror=l,t.codemirror=o.default,t.install=c},function(e,t){e.exports=function(e,t,a,s,n,r){var i,o=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(i=e,o=e.default);var c,u="function"==typeof o?o.options:o;if(t&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0),a&&(u.functional=!0),n&&(u._scopeId=n),r?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},u._ssrRegister=c):s&&(c=s),c){var d=u.functional,p=d?u.render:u.beforeCreate;d?(u._injectStyles=c,u.render=function(e,t){return c.call(t),p(e,t)}):u.beforeCreate=p?[].concat(p,c):[c]}return{esModule:i,exports:o,options:u}}},function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vue-codemirror",class:{merge:e.merge}},[e.merge?a("div",{ref:"mergeview"}):a("textarea",{ref:"textarea",attrs:{name:e.name,placeholder:e.placeholder}})])},n=[],r={render:s,staticRenderFns:n};t.a=r}])}))},ac90:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var s=a("5530"),n=a("b775");function r(e,t){return Object(n["a"])(Object(s["a"])({url:"/utilities/files/js",method:"post",data:e},t))}},bca1:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var s=a("b775");function n(e){return Object(s["a"])({url:"/utilities/files/css",method:"post",data:e})}},c4ea:function(e,t,a){},ee3c:function(e,t,a){}}]);
//# sourceMappingURL=chunk-9ae600d6.3d8de7ee.js.map