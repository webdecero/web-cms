(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-389483b7"],{"0fd9":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.templateStore.loading,expression:"templateStore.loading"}],attrs:{gutter:10,"element-loading-text":"Cargando...",type:"flex",justify:"center"}},[a("el-col",{attrs:{xs:23,sm:23,md:12,lg:12,xl:12}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("Agrega archivos a tu sitio")])]),a("div",{staticClass:"text item"},[a("label",[e._v("Arrastra tu archivo css para agregarlo a tu plantilla")]),a("br"),a("el-upload",{staticClass:"upload-demo",attrs:{name:"fileCSS",action:"#","show-file-list":!1,"http-request":e.uploadFile,drag:""}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[e._v(" Suelta tu archivo aquí o "),a("em",[e._v("haz clic para cargar")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" Solo archivos CSS con un tamaño menor de 10 MB ")])])],1),a("el-divider"),a("div",[a("label",[e._v("Agrega url CDN par agregarla al sitio")]),a("br"),a("br"),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:19}},[a("el-input",{attrs:{placeholder:"Url CDN"},model:{value:e.cdnUrl,callback:function(t){e.cdnUrl=t},expression:"cdnUrl"}})],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"success"},on:{click:e.uploadCDN}},[e._v(" Agregar CDN ")])],1)],1)],1)],1)],1),a("el-col",{attrs:{xs:23,sm:23,md:11,lg:11,xl:11}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("Archivos cargados en el sitio")])]),a("div",{staticClass:"text item"},[a("div",{staticClass:"custom-tree-container"},[a("div",{staticClass:"block"},[a("el-tree",{attrs:{data:e.cssStore.list,"node-key":"id",props:e.defaultProps,"default-expand-all":"",draggable:"","allow-drop":e.allowDrop},on:{"node-drop":e.handleDrop},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.node,r=t.data;return a("span",{staticClass:"custom-tree-node"},[a("span",[e._v(e._s(n.label))]),a("span",[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return e.deleteFile(n,r)}}},[e._v(" Eliminar ")])],1)])}}])}),a("br"),a("div",{attrs:{align:"right"}},[a("el-button",{attrs:{type:"primary",size:"medium",aling:"right"},on:{click:function(t){return e.updateTree()}}},[e._v(" Actualizar ")])],1)],1)])])])],1)],1)],1)},r=[],l=a("c7eb"),i=a("1da1"),o=(a("b0c0"),a("d3b7"),a("c740"),a("a434"),a("fce5")),s=a("536c"),c=a("bca1"),d=a("2ef0"),u=a.n(d),p=Object(o["a"])(),m=Object(s["a"])(),f={name:"Css",components:{},data:function(){return{cssStore:p,templateStore:m,cdnUrl:"",defaultProps:{label:"name"},content:"",cmOptions:{tabSize:4,mode:"text/css",theme:"dracula",lineNumbers:!0,line:!0}}},created:function(){},mounted:function(){},computed:{codemirror:function(){return this.$refs.editorCss.codemirror}},methods:{uploadCDN:function(){var e=this;return Object(i["a"])(Object(l["a"])().mark((function t(){var a,n;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:m.loading=!0,p.file.name=e.cdnUrl,p.file.pathFile=e.cdnUrl,p.file.type="External",p.file.order=p.list.length+1,a=u.a.cloneDeep(p.file),n=u.a.cloneDeep(m.keyName),p.storeCssFile(a,n).finally((function(){e.cdnUrl="",m.loading=!1}));case 8:case"end":return t.stop()}}),t)})))()},uploadFile:function(e){return Object(i["a"])(Object(l["a"])().mark((function t(){var a;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:m.loading=!0,a=new FormData,a.append("file",e.file),a.append("fileName",e.file.name),a.append("folder","template/"+m.keyName),Object(c["a"])(a).then((function(t){p.file.name=e.file.name,p.file.pathFile=t.data,p.file.type="Internal",p.file.order=p.list.length+1;var a=u.a.cloneDeep(p.file),n=u.a.cloneDeep(m.keyName);p.storeCssFile(a,n)})).catch((function(t){e.onError()})).finally((function(){return m.loading=!1}));case 6:case"end":return t.stop()}}),t)})))()},handleDrop:function(){p.orderFilesCss()},allowDrop:function(e,t,a){if("inner"!==a)return!0},updateTree:function(){m.loading=!0;var e=u.a.cloneDeep(m.keyName),t=u.a.cloneDeep(p.list);p.updateCssFiles(t,e).finally((function(){return m.loading=!1}))},deleteFile:function(e,t){var a=this;this.$confirm("Se borrara el arvhivo de su sitio, ¿Esta seguro?","Cuidado",{confirmButtonText:"OK",cancelButtonText:"Cancelar",type:"warning"}).then((function(){m.loading=!0;var a=e.parent,n=a.data.children||a.data,r=n.findIndex((function(e){return e._id===t._id})),l=u.a.cloneDeep(m.keyName),i=u.a.cloneDeep(t._id);p.deleteCssFile(l,i).then((function(e){n.splice(r,1)})).finally((function(){return m.loading=!1}))})).catch((function(){a.$message({showClose:!0,type:"info",message:"Se cancelo la operación"})}))},saveCustomCss:function(){var e=u.a.cloneDeep(m.keyName),t=u.a.cloneDeep(p.content);p.updateCustomCss(e,t)}}},v=f,h=(a("7a45"),a("2877")),g=Object(h["a"])(v,n,r,!1,null,null,null);t["a"]=g.exports},"147a":function(e,t,a){"use strict";a("b408")},"25d2":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.templateStore.loading,expression:"templateStore.loading"}],attrs:{gutter:10,type:"flex",justify:"center","element-loading-text":"Cargando..."}},[a("el-col",{attrs:{xs:22,sm:22,md:19,lg:19,xl:19}},[a("div",[a("ValidationObserver",{ref:"form",scopedSlots:e._u([{key:"default",fn:function(t){var n=t.invalid;return[a("el-form",{attrs:{"label-position":"top","label-width":"100px",model:e.templateStore.form}},[a("el-form-item",{attrs:{label:"Titulo"}},[a("ValidationProvider",{attrs:{name:"titulo",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("el-input",{attrs:{size:"mini"},model:{value:e.templateStore.form.title,callback:function(t){e.$set(e.templateStore.form,"title",t)},expression:"templateStore.form.title"}}),a("span",[e._v(e._s(n[0]))])]}}],null,!0)})],1),a("el-form-item",{attrs:{label:"KeyName"}},[e.templateStore.isEdit?a("div",[a("ValidationProvider",{attrs:{name:"keyName",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("el-input",{attrs:{size:"mini",disabled:!0},model:{value:e.templateStore.form.keyName,callback:function(t){e.$set(e.templateStore.form,"keyName",t)},expression:"templateStore.form.keyName"}}),a("span",[e._v(e._s(n[0]))])]}}],null,!0)})],1):a("div",[a("ValidationProvider",{attrs:{name:"keyName",rules:"uniqueKeyNameTemplate|required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("el-input",{attrs:{size:"mini"},model:{value:e.templateStore.form.keyName,callback:function(t){e.$set(e.templateStore.form,"keyName",t)},expression:"templateStore.form.keyName"}}),a("span",[e._v(e._s(n[0]))])]}}],null,!0)})],1)]),a("el-form-item",[a("div",{attrs:{align:"right"}},[a("el-button",{attrs:{type:"danger",size:"medium"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.handleCancel.apply(null,arguments)}}},[e._v(" Cancelar")]),a("el-button",{attrs:{type:e.templateStore.isEdit?"primary":"success",size:"medium",disabled:n},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.checkSave.apply(null,arguments)}}},[e._v(" "+e._s(e.templateStore.isEdit?"Actualizar":"Crear"))])],1)])],1)]}}])})],1)])],1)},r=[],l=a("c7eb"),i=a("1da1"),o=a("536c"),s=a("35a4"),c=a("2ef0"),d=a.n(c),u=Object(s["a"])(),p=Object(o["a"])(),m={name:"Settings",data:function(){return{isUpdateForm:!1,valueLang:"",configStore:u,templateStore:p}},created:function(){return Object(i["a"])(Object(l["a"])().mark((function e(){return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},methods:{checkSave:function(){var e=this;return Object(i["a"])(Object(l["a"])().mark((function t(){var a,n,r;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!p.isEdit){t.next=6;break}a=d.a.cloneDeep(p.form),n=d.a.cloneDeep(p.keyName),p.updateTemplate(n,a),t.next=10;break;case 6:return p.form.type=p.typeTemplate,r=d.a.cloneDeep(p.form),t.next=10,p.storeTemplate(r).then((function(t){var a=d.a.cloneDeep(t.keyName);"main"===p.typeTemplate?e.$router.push({name:"main.edit.content",params:{keyName:a}}):"header"===p.typeTemplate?e.$router.push({name:"header.edit.content",params:{keyName:a}}):"footer"===p.typeTemplate&&e.$router.push({name:"footer.edit.content",params:{keyName:a}}),p.dialogVisible=!1}));case 10:case"end":return t.stop()}}),t)})))()},handleCancel:function(){p.dialogVisible?p.dialogVisible=!1:this.returnToIndex()},returnToIndex:function(){"main"===p.typeTemplate?this.$router.push({name:"main.index"}):"header"===p.typeTemplate?this.$router.push({name:"header.index"}):"footer"===p.typeTemplate&&this.$router.push({name:"footer.index"})}}},f=m,v=(a("147a"),a("2877")),h=Object(v["a"])(f,n,r,!1,null,"32ded5b7",null);t["a"]=h.exports},"6b5c":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.templateStore.loading,expression:"templateStore.loading"}],attrs:{gutter:10,"element-loading-text":"Cargando...",type:"flex",justify:"center"}},[a("el-col",{attrs:{xs:23,sm:23,md:12,lg:12,xl:12}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("Archivos")])]),a("div",{staticClass:"text item"},[a("label",[e._v("Arrastra tu archivo js para agregarlo al sitio")]),a("br"),a("el-upload",{staticClass:"upload-demo",attrs:{name:"fileJS",action:"#","show-file-list":!1,drag:"","http-request":e.uploadFile}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[e._v(" Suelta tu archivo aquí o "),a("em",[e._v("haz clic para cargar")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" Solo archivos CSS con un tamaño menor de 10 MB ")])])],1),a("el-divider"),a("div",[a("label",[e._v("Agrega url CDN par agregarla al sitio")]),a("br"),a("br"),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:19}},[a("el-input",{attrs:{placeholder:"Url CDN"},model:{value:e.cdnUrl,callback:function(t){e.cdnUrl=t},expression:"cdnUrl"}})],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"success"},on:{click:e.uploadCDN}},[e._v(" Agregar CDN ")])],1)],1)],1)],1)],1),a("el-col",{attrs:{xs:23,sm:23,md:11,lg:11,xl:11}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("Archivos cargados en el sitio")])]),a("div",{staticClass:"text item"},[a("div",{staticClass:"custom-tree-container"},[a("div",{staticClass:"block"},[a("el-tree",{attrs:{data:e.javascriptStore.list,"node-key":"id",props:e.defaultProps,"default-expand-all":"",draggable:"","allow-drop":e.allowDrop},on:{"node-drop":e.handleDrop},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.node,r=t.data;return a("span",{staticClass:"custom-tree-node"},[a("span",[e._v(e._s(n.label))]),a("span",[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return e.deleteFile(n,r)}}},[e._v(" Eliminar ")])],1)])}}])}),a("br"),a("div",{attrs:{align:"right"}},[a("el-button",{attrs:{type:"primary",size:"medium",aling:"right"},on:{click:function(t){return e.updateTree()}}},[e._v(" Actualizar ")])],1)],1)])])])],1)],1)],1)},r=[],l=a("c7eb"),i=a("1da1"),o=(a("b0c0"),a("d3b7"),a("c740"),a("a434"),a("f1dc")),s=a("536c"),c=a("ac90"),d=a("2ef0"),u=a.n(d),p=Object(o["a"])(),m=Object(s["a"])(),f={name:"Javascript",components:{},data:function(){return{javascriptStore:p,templateStore:m,cdnUrl:"",defaultProps:{label:"name"},cmOptions:{tabSize:4,theme:"dracula",lineNumbers:!0,line:!0}}},created:function(){},computed:{codemirror:function(){return this.$refs.editorJavascript.codemirror}},mounted:function(){},methods:{uploadCDN:function(){var e=this;return Object(i["a"])(Object(l["a"])().mark((function t(){var a,n;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:m.loading=!0,p.file.name=e.cdnUrl,p.file.pathFile=e.cdnUrl,p.file.type="External",p.file.order=p.list.length+1,a=u.a.cloneDeep(m.keyName),n=u.a.cloneDeep(p.file),p.storeJavascriptFile(n,a).finally((function(){e.cdnUrl="",m.loading=!1}));case 8:case"end":return t.stop()}}),t)})))()},uploadFile:function(e){return Object(i["a"])(Object(l["a"])().mark((function t(){var a;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:m.loading=!0,a=new FormData,a.append("file",e.file),a.append("fileName",e.file.name),a.append("folder","template/"+m.keyName),Object(c["a"])(a).then((function(t){p.file.name=e.file.name,p.file.pathFile=t.data,p.file.type="Internal",p.file.order=p.list.length+1;var a=u.a.cloneDeep(p.file),n=u.a.cloneDeep(m.keyName);p.storeJavascriptFile(a,n)})).catch((function(t){e.onError()})).finally((function(){return m.loading=!1}));case 6:case"end":return t.stop()}}),t)})))()},handleDrop:function(){p.orderFilesJavascript()},allowDrop:function(e,t,a){if("inner"!==a)return!0},updateTree:function(){var e=u.a.cloneDeep(m.keyName),t=u.a.cloneDeep(p.list);m.loading=!0,p.updateJavascriptFiles(t,e).finally((function(){return m.loading=!1}))},deleteFile:function(e,t){var a=this;this.$confirm("Se borrara el arvhivo de su sitio, ¿Esta seguro?","Cuidado",{confirmButtonText:"OK",cancelButtonText:"Cancelar",type:"warning"}).then((function(){m.loading=!0;var a=u.a.cloneDeep(m.keyName),n=u.a.cloneDeep(t._id),r=e.parent,l=r.data.children||r.data,i=l.findIndex((function(e){return e._id===t._id}));p.deleteJavascriptFile(a,n).then((function(e){l.splice(i,1)})).finally((function(){return m.loading=!1}))})).catch((function(){a.$message({showClose:!0,type:"info",message:"Se cancelo la operación"})}))},saveCustomJavascript:function(){var e=u.a.cloneDeep(m.keyName),t=u.a.cloneDeep(p.content);p.updateCustomJavascript(e,t)}}},v=f,h=a("2877"),g=Object(h["a"])(v,n,r,!1,null,null,null);t["a"]=g.exports},"7a45":function(e,t,a){"use strict";a("a0c1")},a0c1:function(e,t,a){},b408:function(e,t,a){}}]);
//# sourceMappingURL=chunk-389483b7.9bd10093.js.map